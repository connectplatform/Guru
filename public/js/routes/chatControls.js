// Generated by CoffeeScript 1.3.1
(function() {

  define(["app/server", "templates/serverMessage"], function(server, serverMessage) {
    return {
      createInviteHandler: function(chatId) {
        return function(evt) {
          evt.preventDefault();
          return console.log("invite clicked");
        };
      },
      createTransferHandler: function(chatId) {
        return function(evt) {
          evt.preventDefault();
          return console.log("transfer clicked");
        };
      },
      createKickHandler: function(chatId, renderedId) {
        console.log("chatId in closure: " + chatId);
        return function(evt) {
          evt.preventDefault();
          console.log("chatId in handler: " + chatId);
          return server.kickUser(chatId, function(err) {
            if (err != null) {
              console.log("error kicking user: " + err);
            }
            $("#" + renderedId + " .chat-display-box").append(serverMessage({
              message: "The visitor has been kicked from the room"
            }));
            return console.log("displayed kick message");
          });
        };
      },
      createLeaveHandler: function(chatId) {
        return function(evt) {
          evt.preventDefault();
          console.log("leave clicked");
          return server.leaveChat(chatId, function(err) {
            if (err != null) {
              console.log("error leaving chat: " + err);
            }
            return window.location.hash = '/dashboard';
          });
        };
      }
    };
  });

}).call(this);
